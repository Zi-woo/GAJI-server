<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gaji.market.mapper.BoardMapper">
	
    <!-- XML 파일 주석 쓰는 방법 -->
    <!-- id명은 BoardMapper 클래스의 함수명과 똑같이 해주기 -->
    <select id="findAll" resultType="Board">
        SELECT	*
        FROM 	Board
    </select>

    <select id="read" resultType="Board"> 
        SELECT  * 
        FROM    Board 
        WHERE   BoardId=#{no} 
    </select> <!-- #을 쓰면 정수는 정수열, 문자는 문자열로, $는 String --> 
    
    <insert id="create"> 
        <!--selectKey resultType="string" keyProperty="BoardId" order="BEFORE">
            SELECT MAX(BoardId)+1 FROM Board        
        </selectKey-->   
        INSERT 
        INTO Board(
          bid
          ,uid
          ,title
          ,content
          ,category
          ,date
        ) 
        VALUES(
          #{bid}
          ,#{uid}
          ,#{title}
          ,#{content}
          ,#{category}
          ,#{date}
        ) 
    </insert> <!-- insert, update는 리턴타입 없다. select만 --> 
    
    <update id="update"> 
        UPDATE Board 
        SET title=#{title}
            ,content=#{content}
            ,category=#{category}
            ,date=#{date}
        WHERE BoardId=#{BoardId} 
    </update> 
    
    <delete id="delete"> 
        DELETE 
        FROM Board 
        WHERE bid=#{bid} 
    </delete> 

    <select id="findByUid" parameterType="String" resultType="Board">
        SELECT *
        FROM Board
        WHERE uid = #{uid}
    </select>

</mapper>